
# :pushpin: CloudOJ
link : [ì„œë²„ì‘ì—…ê´€ë¦¬ ì†”ë£¨ì…˜](http://3.35.150.190:3000/) 
- Test ID
- ê´€ë¦¬ì : cloud200 / cloud200!
- ì—”ì§€ë‹ˆì–´ë¦¬ë” : engL4 / engl123!
- ì—”ì§€ë‹ˆì–´ : eng08 / eng12345!
- ìœ ì € : echopro23 / user12345!


# 1. ì°¸ì—¬ ì¸ì› & ì œì‘ ê¸°ê°„
- íŒ€ í”„ë¡œì íŠ¸(íŒ€ êµ¬ì„± : 6ëª…)
- 2023ë…„ 8ì›” 21ì¼ ~ 9ì›” 26ì¼ (ê¸°íš 5ì¼, ê°œë°œ 31ì¼)
- 23.08.21-25 (ê¸°íš)
	- ìš”êµ¬ì‚¬í•­ ì •ì˜ì„œ, ê¸°ëŠ¥ë¶„í•´ë„, í”Œë¡œìš° ì°¨íŠ¸ ì‘ì„±
- 23.08.26-09.03 (í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ)
	- ReactJSë¥¼ ì´ìš©í•˜ì—¬ í™”ë©´ êµ¬í˜„ í›„ 1ì°¨ í†µí•©
- 23.09.04-09.15 (ë°±ì—”ë“œ ê°œë°œ)
	- Spring Bootë¥¼ í†µí•œ ê¸°ëŠ¥ êµ¬í˜„ í›„ 2ì°¨ í†µí•© í›„ í…ŒìŠ¤íŠ¸
- 23.09.15-09.22 (ë°±ì—”ë“œ ê°œë°œ)
	- ì—ëŸ¬ ìˆ˜ì • ë° ë¯¸ êµ¬í˜„ ê¸°ëŠ¥ êµ¬í˜„ í›„ 3ì°¨ í†µí•©
- 23.09.22-09.26 (ë°±ì—”ë“œ ê°œë°œ)
	- ë°°í¬ ì§„í–‰ ë° ì—ëŸ¬ ìˆ˜ì •
- 23.09.26
	- í”„ë¡œì íŠ¸ ë°œí‘œ	

</br>

# 2. ì‚¬ìš© ê¸°ìˆ  ë° ê°œë°œ í™˜ê²½
### ì‚¬ìš©ê¸°ìˆ 
#### `Back-end`
  - Java 11
  - Spring Boot 2.7.14(Gradle)
  - Spring Security
  - Mybatis 2.3.1
  - JWT
  - AWS EC2
  - Node.js 18.16.1
#### `Database`  
  - AWS RDS (Aurora/MySQL)
  - AWS S3
#### `Front-end`
  - ReactJS 18.2.0

### ê°œë°œ í™˜ê²½
- STS4
- GitHub
- MySql
- AWS
- Visual Studio Code
</br>

# 3. í”„ë¡œì íŠ¸ êµ¬ì¡°
![](https://github.com/LooklikeDinosour/OJFinalProject/blob/master/architecture.png)

</br>


# 4. ERD ì„¤ê³„
![](https://github.com/LooklikeDinosour/OJFinalProject/blob/master/FINALPROJECT_ERD.png)

</br>

# 5. ì‚¬ìš© ê¸°ìˆ  ë° ë‹´ë‹¹ ê¸°ëŠ¥
### ì‚¬ìš© ê¸°ìˆ 
	Front-End : ReactJS
	Back_End : Java, Spring Boot, MyBatis, AWS (EC2, S3, RDS)

### ë‹´ë‹¹ ê¸°ëŠ¥ (ë‹´ë‹¹ íŒŒíŠ¸ í™”ë©´ êµ¬í˜„, ê¸°ëŠ¥ êµ¬í˜„ ë™ì‹œ ì§„í–‰)
	í”„ë¡œì íŠ¸ ê¸°ì—¬ë„ : 20%
	1. ì—”ì§€ë‹ˆì–´í˜ì´ì§€ ì ê²€ì„¸ë¶€ì‚¬í•­ ì‘ì„± ë° AWS S3 BUCKETì— ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ ë° ë‹¤ìš´ë¡œë“œ êµ¬í˜„
 	2. axios ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë¹„ë™ê¸°í†µì‹ ì˜ api í˜¸ì¶œ ë° ì‘ë‹µì„ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ ê¸°ëŠ¥ êµ¬í˜„
	- ê´€ë¦¬ìí˜ì´ì§€ ì‹ ê·œ í”„ë¡œì íŠ¸ ì¡°íšŒ ë° íŒ€ ë°°ì • ê¸°ëŠ¥
	- ì—”ì§€ë‹ˆì–´í˜ì´ì§€ íŒ€ì› ë³´ê¸° ë° ë§ˆì´í˜ì´ì§€ ì¡°íšŒ
	- ì—”ì§€ë‹ˆì–´í˜ì´ì§€ ë‚´ í”„ë¡œì íŠ¸ ì¡°íšŒ Ehcacheë¥¼ í™œìš©í•˜ì—¬ TPS 4.4 -> 3,306 (ì•½ 750ë°° ê°œì„ )


<details>
<summary><b>í•µì‹¬ ê¸°ëŠ¥ ìƒì„¸ ì„¤ëª…</b></summary>
<div markdown="1">


## 5.1. í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„

### 1. ì—”ì§€ë‹ˆì–´í˜ì´ì§€ ì ê²€ì„¸ë¶€ì‚¬í•­ ì‘ì„± ë° AWS S3 BUCKETì— ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ ë° ë‹¤ìš´ë¡œë“œ êµ¬í˜„
   - ì—”ì§€ë‹ˆì–´ê°€ ì„œë²„ ì ê²€í•œ ë‚´ìš©ì„ ê¸°ë¡í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
   - ì ê²€ì‚¬í•­ì™¸ì— ë¶€ê°€ì ì¸ ë¬¸ì„œ, ì‚¬ì§„ ë“±ì„ ì²¨ë¶€í•  ìˆ˜ ìˆê²Œ ë‹¤ì¤‘ ì—…ë¡œë“œ ê¸°ëŠ¥ êµ¬í˜„
   	- ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œëŠ” ì—…ë¡œë“œ íŒŒì¼ ê°¯ìˆ˜ë§Œ ë³¼ ìˆ˜ ìˆë˜ <input = multiple>í˜•ì‹ì´ ì•„ë‹ˆë¼
     <input=file>í˜•ì‹ìœ¼ë¡œ íŒŒì¼ ì¶”ê°€ë²„íŠ¼ì„ í†µí•´ ìƒí™©ì— ë§ê²Œ ì—…ë¡œë“œ í•  ìˆ˜ ìˆê²Œí•˜ê³ , ë¬´ì—‡ì„ ì—…ë¡œë“œí• ì§€ ë‹¤ì‹œ í™•ì¸í•  ìˆ˜ ìˆê²Œ êµ¬í˜„
   	- ì—…ë¡œë“œ íŒŒì¼ì€ ìŠ¤í† ë¦¬ì§€ í™•ì¥ì„±ì„ ìœ„í•´ AWS S3ì— ì €ì¥
   - DBì— ëŒ€í•œ í˜¸ì¶œ íšŸìˆ˜ê°€ ë¹„ìš© ì¦ê°€ì˜ ì›ì¸ì´ë¼ ì ê²€ì„¸ë¶€ì‚¬í•­ ì´ë™ì‹œ ëª¨ë“  í”„ë¡œì íŠ¸ë¥¼ í•œë²ˆì— í˜¸ì¶œí•˜ì—¬ Reactì—ì„œ filterë¥¼ í†µí•´ ë¶„ë¥˜í•˜ë„ë¡ êµ¬í˜„  
     
### ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
![](https://github.com/LooklikeDinosour/OJFinalProject/blob/7b4406f17dfc2c0a3e46a1b64e4bacbeb37032d7/%EC%9E%91%EC%97%85%20%EC%83%81%EC%84%B8%20%EB%82%B4%EC%97%AD%EC%84%9C%20SD%20%EC%88%98%EC%A0%95v1.png)

### ì—…ë¡œë“œ ì½”ë“œ
#### í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ
:pushpin:<b>ì ê²€ì„¸ë¶€ì‚¬í•­ í˜ì´ì§€</b>
- [ê´€ë ¨ì½”ë“œ](react/src/enMain/EnWorkDetail.js)
 
#### ë°±ì—”ë“œ ì½”ë“œ
:pushpin:<b>ì ê²€ì„¸ë¶€ì‚¬í•­ ì½”ë“œ</b>


<details>
<summary>ê´€ë ¨ ì½”ë“œ1 ì—”ì§€ë‹ˆì–´ Controller</summary>
<div markdown="1">

~~~java
  //

// ì‘ì—…ìƒì„¸ë‚´ì—­ì—ì„œ ìš”ì²­ë³´ë‚¸ ì—”ì§€ë‹ˆì–´ë³„ë¡œ ë°°ì •ë°›ì€ í”„ë¡œì íŠ¸ ë¶ˆëŸ¬ì˜¤ëŠ” ê¸°ëŠ¥
// ì—”ì§€ë‹ˆì–´ ê³ ìœ  idì— í•´ë‹¹í•˜ëŠ” í”„ë¡œì íŠ¸ì™€ í”„ë¡œì íŠ¸ ì‚°í•˜ì˜ ì„œë²„ë¥¼ ì‘ë‹µ
	@GetMapping("/engineer/workDetail/{eng_enid}")
	public ResponseEntity<Map<String, Object>> enWorkDetailToInfo(@PathVariable String eng_enid) {
		List<EngSerProInfoWorkInfoVO> eSPIWlist = engineerService.engProInfo(eng_enid);
		List<ServerVO> serverList = engineerService.serverList();

		Map<String, Object> proInfoMap = new HashMap<>();
		//í”„ë¡œì íŠ¸ 
		proInfoMap.put("eSPIWlist", eSPIWlist);
		//ì„œë²„ë¦¬ìŠ¤íŠ¸ 
		proInfoMap.put("serverList", serverList);
	
		return new ResponseEntity<>(proInfoMap, HttpStatus.OK);
	}

// ì‘ì—…ìƒì„¸ë‚´ì—­ì„œ ë“±ë¡ ê¸°ëŠ¥
// í™ˆí˜ì´ì§€ì—ì„œ ì‘ì„±ëœ ë‚´ìš©ì„ APIë¥¼ í†µí•´ ì „ë‹¬ë°›ì•„ DBì— ê¸°ë¡
	@PostMapping("/engineer/workDetail")
	public ResponseEntity<Integer> registWorkLogs(@RequestBody List<WorkInfoVO> ServerDetailsArray) {
		int result = engineerService.registWorkLog(ServerDetailsArray);
		return new ResponseEntity<>(result, HttpStatus.OK);
	}
~~~

</div>
</details>

<details>
    <summary>ê´€ë ¨ ì½”ë“œ2 ServiceImpl</summary>
<div markdown="1">

~~~java

  //ì‘ì—…ìƒì„¸ë‚´ì—­ì„œì—ì„œ ê° ì—”ì§€ë‹ˆì–´ì—ê²Œ ë°°ì •ëœ í”„ë¡œì íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
	@Override
	public List<EngSerProInfoWorkInfoVO> engProInfo(String eng_enid) {
		return engineerMapper.engProInfo(eng_enid);
	}
	@Override
	public List<ServerVO> serverList() {
		return engineerMapper.serverList();
	}

  //ì„œë²„ ì‘ì—…ìƒì„¸ë‚´ì—­ ë¦¬ì•¡íŠ¸ì—ì„œ ë°›ì•„ì™€ì„œ ë„˜ê¸°ê¸°
	@Override
	public int registWorkLog(List<WorkInfoVO> ServerDetailsArray) {
		return engineerMapper.registWorkLog(ServerDetailsArray);}
	
	~~~

</div>
</details>
 
:pushpin:<b>ì—…ë¡œë“œ ê´€ë ¨ ì½”ë“œ</b>
     
<details>
<summary>ê´€ë ¨ ì½”ë“œ1 AWS Controller</summary>
<div markdown="1">

~~~java
	@PostMapping("/api/main/cloudMultiUpload")
	public ResponseEntity<Integer> multiUpload(@RequestParam("file_data") List<MultipartFile> fileList,
 						   @RequestParam("userId") String userId) {
		Instant now = Instant.now();
		Timestamp timestamp = Timestamp.from(now);
		
		fileList = fileList.stream().filter( f -> f.isEmpty() == false).collect(Collectors.toList());
		int result = 0;
		try {
			List<FileVO> list = new ArrayList<>();
			for (MultipartFile file : fileList) {
				String originName=file.getOriginalFilename();
				byte[]originData=file.getBytes();
				String objectURI =s3.putS3Object(originName,originData);
				FileVO fileVO=new FileVO().builder()
							  .file_name(originName)
							  .file_path(objectURI)
							  .file_type(file.getContentType())
							  .user_id(userId)
							  .upload_date(timestamp)
							  .build();
	
			list.add(fileVO);
			}
			result = awsService.setFiles(list, userId);
		}catch (Exception e) {
			e.printStackTrace();
		}
		return new ResponseEntity<>(result,HttpStatus.OK);
	}
~~~

</div>
</details>

<details>
<summary>ê´€ë ¨ ì½”ë“œ2 ServiceImpl</summary>
<div markdown="1">

~~~java
	@Override
	public int setFiles(List<FileVO> list, String user_id) {
		return awsMapper.setFiles(list, user_id);
	}
~~~

</div>
</details>

<details>
<summary>ê´€ë ¨ ì½”ë“œ3 ì ê²€ ì„¸ë¶€ì‚¬í•­ ì‘ì„± SQL</summary>
<div markdown="1">

~~~sql
	<insert id="registWorkLog" parameterType="java.util.List">
		<selectKey keyProperty="work_filenum" resultType="String" order="BEFORE">
		        SELECT UUID()
		     </selectKey>
		insert into WORKINFO
		(work_filenum,
		work_date,
		work_division,
		work_time,
		work_cpu,
		work_ram,
		work_hdd,
		work_note,
		work_estimate,
		work_status,
		server_id,
		eng_enid,
		pro_id)
		values
			<foreach collection="list" item="workInfo" separator=",">
			(#{work_filenum},
			#{workInfo.work_date},
			#{workInfo.work_division},
			#{workInfo.work_time},
			#{workInfo.work_cpu},
			#{workInfo.work_ram},
			#{workInfo.work_hdd},
			#{workInfo.work_note},
			#{workInfo.work_estimate},
			#{workInfo.work_status},
			#{workInfo.server_id},
			#{workInfo.eng_enid},
			#{workInfo.pro_id}
			)
			</foreach>
	</insert>

~~~

</div>
</details>

<details>
<summary>ê´€ë ¨ ì½”ë“œ4 ë‹¤ì¤‘íŒŒì¼ ì—…ë¡œë“œ SQL </summary>
<div markdown="1">

~~~sql
	    <insert id="setFiles" >
	      <selectKey keyProperty="work_filenum" resultType="String"
	         order="BEFORE">
	         SELECT WORK_FILENUM FROM WORKINFO WHERE ENG_ENID = #{user_id}
	         ORDER BY WORK_DATE DESC LIMIT 1;
	      </selectKey>
	
	         insert into
	         FILE(file_name,file_path,file_type,upload_date,user_num,user_id) 
	         values
	         <foreach collection="list" item="item" separator=",">     
	            (#{item.file_name}, #{item.file_path}, #{item.file_type}, #{item.upload_date}, #{work_filenum}, #{item.user_id})
	         </foreach>
	     </insert> 

~~~

</div>
</details>

</br>
  
### ë‹¤ìš´ë¡œë“œ ì½”ë“œ

#### í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ
:pushpin: <b>ì ê²€ëª©ë¡ ë° ê° ì„œë²„ ìƒì„¸ë³´ê¸° í˜ì´ì§€</b>
- [ê´€ë ¨ì½”ë“œ ì ê²€ ëª©ë¡](react/src/enMain/InspectionList.js)
- [ê´€ë ¨ì½”ë“œ ì„œë²„ ìƒì„¸ë³´ê¸°](react/src/enMain/EnServerDetailModal.js)
 
#### ë°±ì—”ë“œ ì½”ë“œ
:pushpin:<b>ë‹¤ìš´ë¡œë“œ ì½”ë“œ</b>
<details>
<summary>ê´€ë ¨ ì½”ë“œ1 AwsController </summary>
<div markdown="1">

~~~java
	@GetMapping("/api/main/getFiles")
	public ResponseEntity<?> getFiles(String work_filenum) {
		if(work_filenum != null) {
			List<FileVO> files = awsService.getFiles(work_filenum);
			return new ResponseEntity<>(files, HttpStatus.OK);
		} else {
			return new ResponseEntity<>("íŒŒì¼ ì—†ìŒ", HttpStatus.OK);
		}
	}
~~~

</div>
</details>

<details>
<summary>ê´€ë ¨ ì½”ë“œ2 AwsServiceImpl </summary>
<div markdown="1">

~~~java
// ë©€í‹°íŒŒì¼ ë‹¤ìš´ë¡œë“œ
	@Override
	public List<FileVO> getFiles(String work_filenum) {
		return awsMapper.getFiles(work_filenum);
	}
~~~


</div>
</details>

<details>
<summary>ê´€ë ¨ ì½”ë“œ3 AwsMapper </summary>
<div markdown="1">

~~~sql
	    <select id="getFiles" resultType="com.server.cloud.s3.FileVO">
	        SELECT * FROM FILE 
	        WHERE USER_NUM = #{work_filenum};
	    </select>
~~~


</div>
</details>



</div>
</details>

</br>

# 6. í•µì‹¬ íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ë° ë¬¸ì œ í•´ê²°

## ë¬¸ì œ 1 : ì ê²€ ì„¸ë¶€ì‚¬í•­ ë“±ë¡


ğŸ“Œ **ë¬¸ì œì **
- ì´ˆê¸°êµ¬í˜„ì˜ë„ : ì—”ì§€ë‹ˆì–´ëŠ” í•œ ê°œì˜ ì‘ì—… ìƒì„¸ ë‚´ì—­ í˜ì´ì§€ì— ë°°ì •ë°›ì€ ì„œë²„ë“¤ì˜ ì‘ì—…ë‚´ì—­ì„ ì‘ì„±
- ë¬¸ì œ ë°œìƒ : ëˆˆìœ¼ë¡œ ë³´ê¸°ì—ëŠ” í•œ ê°œì˜ í˜ì´ì§€ë¼ì„œ í•œ ê°œì˜ ê²Œì‹œê¸€ë§Œ ê¸°ë¡ë  ê²ƒ ê°™ì•˜ì§€ë§Œ, ì ê²€ë°›ëŠ” ì„œë²„ì˜ ê°¯ìˆ˜ë§Œí¼ ê²Œì‹œê¸€ì´ í˜•ì„±ì´ ë˜ëŠ” êµ¬ì¡° 
- í”„ë¡œì íŠ¸ ëª…, ì‘ì—… ë‚ ì§œ, ì‘ì„±ì, ì‘ì—…ì‹œê°„, ì²¨ë¶€íŒŒì¼ ë“± ê³µí†µë¶€ë¶„ê³¼ ê° ì„œë²„ë‹¹ ê¸°ë¡ë˜ëŠ” CPU, RAM, STORAGE ë“± ì ê²€ì‚¬í•­ ë“±ì˜ ê°œë³„ ë¶€ë¶„ìœ¼ë¡œ ê¸°ë¡ì´ ì§„í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¬¸ì œ ë°œìƒ


ğŸ“Œ **í•´ê²°**
- list í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ foreach êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ listì˜ sizeë§Œí¼ ë°˜ë³µí•˜ì—¬ DBì— ì €ì¥

~~~sql
<insert id="registWorkLog" parameterType="java.util.List">
             <selectKey keyProperty="work_filenum" resultType="String" order="BEFORE">
	        SELECT UUID()
	     </selectKey>
		insert into WORKINFO
		(work_filenum,
		work_date,
		work_division,
		work_time,
		work_cpu,
		work_ram,
		work_hdd,
		work_note,
		work_estimate,
		work_status,
		server_id,
		eng_enid,
		pro_id)
		values
		<foreach collection="list" item="workInfo" separator=",">
			(#{work_filenum},
			#{workInfo.work_date},
			#{workInfo.work_division},
			#{workInfo.work_time},
			#{workInfo.work_cpu},
			#{workInfo.work_ram},
			#{workInfo.work_hdd},
			#{workInfo.work_note},
			#{workInfo.work_estimate},
			#{workInfo.work_status},
			#{workInfo.server_id},
			#{workInfo.eng_enid},
			#{workInfo.pro_id}
			)
		</foreach>
	</insert>
~~~

---

## ë¬¸ì œ 2 : ì—…ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€


ğŸ“Œ **ë¬¸ì œì  1**
- íšŒì˜ë¥¼ í†µí•´ ì´ˆê¸°ì— ì—†ë˜ ì—…ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€
- ì—…ë¡œë“œë¥¼ êµ¬í˜„ì‹œ í•´ë‹¹ ê¸€ì˜ PKë¡œ íŒŒì¼ì„ ì—…ë¡œë“œ ë° ë‹¤ìš´ë¡œë“œ êµ¬í˜„ì„ í•´ì•¼ í•˜ëŠ”ë°, ìœ„ì—ì„œ êµ¬í˜„í•œ ë‹¤ì¤‘ ê²Œì‹œê¸€ì´ ê°ê° ë‹¤ë¥¸ ê²Œì‹œê¸€ì„ ìƒì„±í•˜ë©° ê°ê° PK ìƒì„±ë˜ì–´
  ìµœì´ˆ í˜•ì„±ëœ ì²« ì ê²€ ê¸°ë¡ ì™¸ì—ëŠ” ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì§€ ì•Šì•˜ìŒ
- Keyë¥¼ ë³µì œí•˜ì—¬ ì—°ê²°í•  ìˆ˜ ìˆëŠ” ì•„ë˜ì™€ ê°™ì€ SQLë¬¸ì„ ì°¾ì•„ì„œ ì‚¬ìš©í–ˆì§€ë§Œ, PKê´€ë ¨ ê°œì²´ ë¬´ê²°ì„± ì—ëŸ¬ê°€ ë°œìƒ  
  

ğŸ“Œ **í•´ê²° 1**
- WorkInfo í…Œì´ë¸”ì— ì»¬ëŸ¼(WORK_FILENUM)ì„ ì¶”ê°€ ìƒì„±í•˜ì—¬ <selectKey>êµ¬ë¬¸ì„ ì¶”ê°€í•˜ì—¬ ë™ì¼í•œ UUIDë¥¼ ë³µì‚¬í•˜ì—¬ INSERT êµ¬ë¬¸ì— Foreachë¥¼ í†µí•´ Keyê°’ì„ ë³µì‚¬í•˜ì—¬ ëª¨ë“  ê²Œì‹œê¸€ì— ì €ì¥í•˜ì˜€ê³ , í•´ë‹¹ Keyê°’ì„ PKëŒ€ì‹  keyPropertyë¡œ "work_filenum"ì„ ì§€ì •í•˜ì—¬ ì—…ë¡œë“œë˜ëŠ” FILEë“¤ DBì €ì¥ì‹œ ê°™ì´ Insertí•´ì¤Œìœ¼ë¡œ ëª¨ë“  ì ê²€ ëª©ë¡ì—ì„œë„ ë‹¤ìš´ë¡œë“œë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•´ê²°

~~~sql
    <insert id="setFiles" >
      <selectKey keyProperty="work_filenum" resultType="String"
         order="BEFORE">
         SELECT WORK_FILENUM FROM WORKINFO WHERE ENG_ENID = #{user_id}
         ORDER BY WORK_DATE DESC LIMIT 1;
      </selectKey>

         insert into
         FILE(file_name,file_path,file_type,upload_date,user_num,user_id) 
         values

         <foreach collection="list" item="item" separator=",">      
            (#{item.file_name}, #{item.file_path}, #{item.file_type}, #{item.upload_date}, #{work_filenum}, #{item.user_id})
         </foreach>
     </insert> 

~~~

---

ğŸ“Œ **ë¬¸ì œì  2**
- ì—…ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€ ì´ì „ì— ì‘ì—… ìƒì„¸ ë‚´ì—­ ê¸°ë¡ì€ í•´ë‹¹ë‚ ì§œë¡œë§Œ ê¸°ë¡í•˜ê¸°ë¡œ ì„¤ì •í•˜ì—¬ Date í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©
- ë‹¤ìš´ë¡œë“œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë™ì¼ ë‚ ì§œ ì„œë²„ê¸°ë¡ì„ ì—¬ëŸ¬ ì—”ì§€ë‹ˆì–´ IDì—ì„œ í˜•ì„±í•˜ëŠ”ë° Typeì´ Dateë¡œ ë˜ì–´ìˆì–´ì„œ ë‚ ì§œë¡œë§Œ ì €ì¥ë˜ë‹¤ë³´ë‹ˆ í•´ë‹¹ ë‚ ì§œ ì²« ê²Œì‹œë¬¼ì™¸ì— ë‹¤ë¥¸ ê²Œì‹œê¸€ì—ë„ ì²« ê²Œì‹œë¬¼ì— ì—…ë¡œë“œí•œ íŒŒì¼ë“¤ì´ ì˜ëª» ì‘ë‹µ
~~~sql
      <selectKey keyProperty="work_filenum" resultType="String"
         order="BEFORE">
         SELECT WORK_FILENUM FROM WORKINFO WHERE ENG_ENID = #{user_id}
         ORDER BY WORK_DATE DESC LIMIT 1;
      </selectKey>
~~~
  

ğŸ“Œ **í•´ê²° 2**
- SQLë¬¸ì€ ìƒê¸° ì½”ë“œëŒ€ë¡œ ì‚¬ìš©
- WorkInfoVO ë³€ìˆ˜ íƒ€ì…ì„ Date -> Timestamp ë°©ì‹ìœ¼ë¡œ ë°”ê¾¸ê³ , @JsonFormat ì• ë…¸í…Œì´ì…˜ì„ í†µí•´ ë“¤ì–´ì˜¤ëŠ” ê°’ì˜ í˜•ì‹ì„ ì§€ì •, WorkInfo í…Œì´ë¸” work_date typeë„ Date -> Timestampë¡œ ë³€ê²½í•˜ì—¬ í•´ê²°

WorkInfoVO í´ë˜ìŠ¤ íƒ€ì… ë³€ê²½
~~~java
 	@JsonFormat
	(shape = JsonFormat.Shape.STRING, pattern = "yyyy-MM-dd HH:mm:ss", timezone = "Asia/Seoul")
	private Timestamp work_date;
~~~
MySql íƒ€ì… ë³€ê²½
~~~sql
	ALTER TABLE WORKINFO 
	CHANGE COLUMN `WORK_DATE` `WORK_DATE` TIMESTAMP NULL DEFAULT NULL ;
~~~


</div>
</details>


</br>


# 7. ê·¸ ì™¸ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

<details>
<summary>1. polyfill ì—ëŸ¬ ë°œìƒ </summary>
<div markdown="1">
	
  - ê°™ì€ í˜ì´ì§€ë¥¼ ì‘ì—…í•˜ë˜ íŒ€ì›ë“¤ì€ ì—ëŸ¬ê°€ ë‚˜ì§€ ì•Šì•˜ì§€ë§Œ, ê°‘ìê¸° ë‚˜ì—ê²Œë§Œ ë°œìƒí•˜ëŠ” ê²ƒì„ ë³´ê³  ì „ì²´ í˜ì´ì§€ë¥¼ ì½ì–´ë³´ë‹ˆ ì˜¤íƒ€ë¡œ ë°œìƒí•œ ì•ŒíŒŒë²³ì´ express.jsì— ìë™ìœ¼ë¡œ importë˜ë©´ì„œ ìƒê¸´ë¬¸ì œ
  - ë¦¬ì•¡íŠ¸ polyfill 9ê°œ ì—ëŸ¬ ë°œìƒí•˜ì˜€ê³ , ì˜¤íƒ€ë¡œ ë°œìƒí•œ ì•ŒíŒŒë²³ì´ express.jsì— ìë™ìœ¼ë¡œ importë˜ë©´ì„œ ìƒê¸´ ì˜¤ë¥˜ import êµ¬ë¬¸ ì œê±°ë¡œ í•´ê²°

</div>
</details>

<details>
  
<summary>2. java.lang.IllegalStateException: Malformed \uxxxx encoding ë°œìƒ </summary>
<div markdown="1">
  
  - application.propertiesì— ê²½ë¡œ ë³µì‚¬í•˜ê³  ìƒê¸° ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ê³ , ê²½ë¡œ / -> \ ë¡œ ë°”ê¿”ì„œ í•´ê²°
  
</div>
</details>

<details>
<summary>3.ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œ ë°ì´í„° ì „ì†¡ì€ ì„±ê³µí–ˆëŠ”ë° ë¦¬ì•¡íŠ¸ì—ëŠ” ì „ë‹¬ì´ ì•ˆë˜ëŠ” ë¬¸ì œ(error) ë°œìƒ</summary>
<div markdown="1">

  -  ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ ê³µìš©ì£¼ì†Œë¥¼ @RequestMapping()ì²˜ë¦¬í•œ ê²ƒì„ ë¦¬ì•¡íŠ¸ í”„ë¡ì‹œ ì„¤ì •ì—ì„œ ì£¼ì†Œë¥¼ ì§€ì •í•´ì¤˜ì„œ í•´ê²°í•¨
  -  [ì½”ë“œ](https://github.com/LooklikeDinosour/OJFinalProject/blob/892c08cfb98ef43fc36332d02e4409187235f14f/react/src/setupProxy.js#L6C3-L6C3)

</div>  
</details>

    
</br>

# 8. í”„ë¡œì íŠ¸ í›„ ëŠë‚€ì 
1. ìµìˆ™ì¹˜ ì•Šì€ ReactJSë¥¼ í•™ìŠµí•˜ë©´ì„œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë‹ˆ ì–¸ì–´ì— ëŒ€í•œ ì´í•´ì˜ ìˆ˜ì¤€ì´ ë‚®ì•„ ë‹¤ìˆ˜ì˜ ì—ëŸ¬ ë°œìƒ ë° ì›í•˜ëŠ” ëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ” ìƒí™©ì„ ê²ªê³  ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ìƒí™©ì´ ì¢…ì¢… ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ ê²½í—˜ì„ í†µí•´ ì–¸ì–´ì— ëŒ€í•´ ê¸°ë³¸ì€ ì „ë¶€ í•™ìŠµí•˜ê³  ì‚¬ìš©í•´ì•¼ë§Œ í•˜ëŠ” ì¤„ ì•Œì•˜ë˜ ì €ì˜ ê³ ì • ê´€ë…ì´ ê¹¨ì¡Œê³ , ì € ë˜í•œ í•™ìŠµí•˜ë©´ì„œ í•„ìš”í•œ ê¸°ëŠ¥ì„ ê°œë°œ í•  ìˆ˜ ìˆë‹¤ëŠ” ìì‹ ê°ì„ ì–»ì—ˆìŠµë‹ˆë‹¤.
2. ê´€ë¦¬ì / ì—”ì§€ë‹ˆì–´ / í´ë¼ì´ì–¸íŠ¸ ì„¸ê°€ì§€ íŒŒíŠ¸ë¡œ ë‚˜ëˆ ì ¸ì„œ ì¸ì›ë³„ë¡œ ê³µí†µì‘ì—…ì„ í•´ì•¼í–ˆëŠ”ë° ì´ˆê¸° ì˜ì‚¬ì†Œí†µ ë¶€ì¬ë¡œ ê°™ì€ í´ë˜ìŠ¤ë‚´ì— ë™ì¼í•œ ë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì´ˆë°˜ì— GitHubì—ì„œ í†µí•©ì‹œ Merge Confilctê°€ ë°œìƒí•œ ê²½ìš°ê°€ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ëŸ° ë¬¸ì œë¥¼ ê²ªì€ í›„ ê³µí†µ ì‘ì—…ì„ ë§¡ì€ íŒ€ì›ë“¤ê³¼ëŠ” ì½”ë“œ ì‘ì—… ì „ì— ì†Œí†µí•˜ì—¬ ê°™ì€ ìƒí™©ì„ ë°©ì§€í–ˆìŠµë‹ˆë‹¤.
3. ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ìš”êµ¬ì‚¬í•­ì •ì˜ì„œ, ê¸°ëŠ¥ë¶„í•´ë„, í”Œë¡œìš°ì°¨íŠ¸ë¥¼ ë§Œë“¤ë©´ì„œ ë¬¸ì„œì˜ ì¤‘ìš”ì„±ì— ëŒ€í•´ ì•Œê²Œ ëìŠµë‹ˆë‹¤. ì˜ì‚¬ì†Œí†µì„ êµ¬ë‘ë¡œ í•  ë•ŒëŠ” ê°™ì€ ë°©í–¥ì„±ì„ ì´ì•¼ê¸°í–ˆì§€ë§Œ ì¤‘ê°„ ì ê²€ì—ì„œ ë‹¤ë¥´ê²Œ êµ¬í˜„ë˜ëŠ” ê²½ìš°ê°€ ë°œìƒí–ˆëŠ”ë° ë¬¸ì„œí™” ë¥¼ í†µí•´ ë‹¤ë¥´ê²Œ êµ¬í˜„ë˜ëŠ” ê²½ìš°ê°€ ê±°ì˜ ë°œìƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. 

 6ê°œì›” ë™ì•ˆ ì—´ì‹¬íˆ ë°°ìš°ê³  ìµíŒ ê²ƒì„ ë°”íƒ•ìœ¼ë¡œ ê°œë°œì„ ì§„í–‰í•˜ê³ , íŒ€ì›ë“¤ê³¼ í˜‘ë ¥í•˜ì—¬ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ì™„ìˆ˜í•˜ë©´ì„œ ê°œë°œìë¡œì„œì˜ ì²« ë°œì„ ë‚´ë”›ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë§ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ì‹¶ì—ˆì§€ë§Œ ì•„ì§ ë¶€ì¡±í•œ ë¶€ë¶„ì´ ë§ì•„ êµ¬í˜„ì„ ë¯¸ì³ í•˜ì§€ ëª»í–ˆë˜ ì ì´ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ë¥¼ ê³„ê¸°ë¡œ ë¶€ì¡±í•œ ë¶€ë¶„ì„ ë³´ì™„í•˜ê³  ì§€ì‹ì„ ìŒ“ì•„ê°€ë©´ ì„±ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ê¸ì •ì ì¸ ìƒê°ì„ í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ì‚¬ìš©ìë“¤ì—ê²Œ í¸ì˜ë¥¼ ì œê³µí•˜ëŠ” ê°œë°œìê°€ ë˜ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë”ìš± í™•ê³ í•´ì§€ëŠ” ê³„ê¸°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.


